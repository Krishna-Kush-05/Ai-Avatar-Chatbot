{% extends "app_layout.html" %}
{% block title %}AI Chat Assistant{% endblock %}

{% block app_content %}
<!-- The chat layout will fill the app_content area -->
<div class="chat-layout">
    
    <!-- Chat messages area -->
    <div id="chat-box" class="chat-box">
        <!-- Initial Greeting -->
        <div id="greeting-message">
            <div class="bot-response-container">
                <div class="bot-avatar">AI</div>
                <div class="bot-response-content">
                    <p>Hello! What can I help you with today?</p>
                </div>
            </div>
        </div>
        <!-- Chat messages will be dynamically added here -->
    </div>
    
    <!-- Chat input area -->
    <div class="chat-input-area">
        <form id="chat-form" class="chat-form">
            <input type="text" id="chat-input" placeholder="Ask anything..." autocomplete="off" />
            
            <!-- Voice Record Button -->
            <button id="recordButton" type="button" class="chat-btn record-btn" title="Speak">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mic"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
            </button>
            
            <!-- Send Button -->
            <button type="submit" class="chat-btn" title="Send">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-send"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
            </button>
        </form>
    </div>
</div>
{% endblock %}

{% block head_scripts %}
<!-- This script block injects scripts into the <head> of base.html -->
<!-- Your existing script.js will handle the chat logic -->
<!-- Ensure your script.js is loaded -->
<script type="module" src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}